{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-center">Bienvenido, {{ request.user.username }}</h2>

    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card text-white bg-primary mb-3">
                <div class="card-header">Total de Tickets</div>
                <div class="card-body">
                    <h3 class="card-title text-center">{{ total_tickets }}</h3>
                </div>
            </div>
            <div class="card text-white bg-warning mb-3">
                <div class="card-header">Tickets Pendientes</div>
                <div class="card-body">
                    <h3 class="card-title text-center">{{ tickets_pendientes }}</h3>
                </div>
            </div>
            <div class="card text-white bg-info mb-3">
                <div class="card-header">Tickets En Proceso</div>
                <div class="card-body">
                    <h3 class="card-title text-center">{{ tickets_en_proceso }}</h3>
                </div>
            </div>
            <div class="card text-white bg-success mb-3">
                <div class="card-header">Tickets Completados</div>
                <div class="card-body">
                    <h3 class="card-title text-center">{{ tickets_completados }}</h3>
                </div>
            </div>
        </div>
    </div>

    <!-- Mostrar tickets por dirección -->
    <div class="row justify-content-center mt-5">
        <div class="col-md-8">
            <h4 class="text-center">Tickets por Dirección</h4>
            <table class="styled-table">
                <thead>
                    <tr>
                        <th>Dirección</th>
                        <th>Total de Tickets</th>
                    </tr>
                </thead>
                <tbody>
                    {% for direccion, cantidad in direcciones_tickets.items %}
                    <tr>
                        <td>{{ direccion }}</td>
                        <td>{{ cantidad }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<style>
    .styled-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }

    .styled-table th, .styled-table td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: center;
    }

    .styled-table th {
        background-color: #2c3e50;
        color: white;
    }

    .styled-table tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    .styled-table tr:hover {
        background-color: #ddd;
    }
</style>

{% endblock %}